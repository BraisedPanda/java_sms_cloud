spring:
  application:
    name: gateway-service # 应用名，也是Nacos中的Data ID的一部分
  cloud:
    loadbalancer:
      enabled: true
    nacos:
      discovery:
        server-addr: localhost:8848
        namespace: public
        group: DEFAULT_GROUP
        enabled: true
        register-enabled: true
      config:
        server-addr: localhost:8848
        file-extension: yaml
        namespace: public
        group: DEFAULT_GROUP
        enabled: true
        refresh-enabled: true
    gateway:
      discovery:
        locator:
          enabled: true # 开启根据服务名自动创建路由的功能（小写服务名）
      routes: # 静态路由配置，优先级高于上面的自动创建
        - id: web-service-route # 路由唯一标识
          uri: lb://web-service # lb:// 表示从注册中心（如Nacos）进行负载均衡
          predicates: # 断言：匹配条件
            - Path=/api/user/**
          filters:
            - StripPrefix=1 # 过滤器：去掉Path的第一部分（/api），再转发给user-service

logging:
  level:
    org.springframework.cloud.gateway: DEBUG
    reactor.netty: DEBUG